<!DOCTYPE html>
<html lang="vi">
<head>
  <title>Tải video, Hình ảnh Instagram Online</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
                <link rel="canonical" href="https://phuongmychi.github.io/download.html" />
                <meta content="Website tải video, hình ảnh instagram trực tuyến miễn phí mới nhất, Website Download image, video instagram online" name="description" />

                <meta property="og:type" content="website" />
                <meta property="og:image" content="https://scontent-hkt1-1.cdninstagram.com/v/t51.2885-19/s150x150/80003837_845261019218853_3857364086211739648_n.jpg?_nc_ht=scontent-hkt1-1.cdninstagram.com&_nc_ohc=XhSUVpaFJPUAX9CdOB3&oh=2ced5b5e5081e62d4e11187885d5432c&oe=5E9E3D48" />
                <meta property="og:title" content="Tải video, Hình ảnh Instagram Online - Instadl.github.io" />
                <meta property="og:description" content="Website tải video, hình ảnh instagram trực tuyến miễn phí mới nhất, Website Download image, video instagram online" />
                <meta property="og:url" content="https://phuongmychi.github.io/download.html">
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Poppins|Titillium+Web:700" rel="stylesheet">
    <!-- <link rel="stylesheet" href="https://phuongmychi.github.io/instagram/demo-style.min.css"> -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"> -->
 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
 <script src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
<script src="https://phuongmychi.github.io/network.js"></script>

    <style media="screen">

.container{
  margin-top: 5%;
}
  #copyrightpmc{
  display: flex;
  font-size: 12px;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  margin-top: 2%;
  /* min-height: 15vh; */
}
 #urlpmc{
   display: flex;
   font-size: 12px;
   flex-direction: column;
   justify-content: center;
   align-items: center;
   text-align: center;
   margin-top: 10%;
 }
#myCarousel{
  width:480px;
  height: auto;
}
.caption{
  width:480px;
}
#imglist{
  width: 280px;
  height: 240px;
}
.formphuongmychi{
  margin-bottom:5%;
  width:60%;
}
@media screen and (orientation:portrait) {
  #myCarousel{
    width:100%;
    height: auto;
  }
  .caption{
    width:100%;
  }
  #imglist{
    width: 340px;
    height: 340px;
  }

}

</style>
<script>
var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = window.location.search.substring(1),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
        }
    }
};

</script>
<script>
    $(document).ready(function () {
      var key =  getUrlParameter('postlovepmc');
      function removeParam(key, sourceURL) {
          var rtn = sourceURL.split("?")[0],
              param,
              params_arr = [],
              queryString = (sourceURL.indexOf("?") !== -1) ? sourceURL.split("?")[1] : "";
          if (queryString !== "") {
              params_arr = queryString.split("&");
              for (var i = params_arr.length - 1; i >= 0; i -= 1) {
                  param = params_arr[i].split("=")[0];
                  if (param === key) {
                      params_arr.splice(i, 1);
                  }
              }
              rtn = rtn + "" + params_arr.join("&");
          }
          return rtn;
      }
      var originalURL = getUrlParameter("urlins");
      // var originalURL = "https://www.instagram.com/p/B9-3yFPj_kT/?utm_source=ig_web_copy_link";
      var alteredURL = removeParam("utm_source", originalURL);
      // alert(alteredURL);
      var pre = "?__a=1";
  	var URL = alteredURL+pre;

      console.log(key);
    	// var URL = 'https://www.instagram.com/p/'+key+'/?__a=1';
      console.log(URL);

        var options = {
            part: 'snippet',
            key: key,
            maxResults: 9,
            // playlistId: playlistId[sel]
        }

        loadVids();

        function loadVids() {
            $.getJSON(URL, options, function (data) {
              // console.log(data.graphql.shortcode_media);
              var img = data.graphql.shortcode_media.display_url;
              var title = data.graphql.shortcode_media.edge_media_to_caption.edges[0].node.text
              var cmmtnumber = data.graphql.shortcode_media.edge_media_preview_comment.count;
              var likenumber = data.graphql.shortcode_media.edge_media_preview_like.count;
              var username = data.graphql.shortcode_media.owner.username;
              var verify = data.graphql.shortcode_media.owner.is_verified;
              var pic = data.graphql.shortcode_media.owner.profile_pic_url;
              var vid = data.graphql.shortcode_media.is_video;
              var videos = data.graphql.shortcode_media.video_url;
              var shortcode = data.graphql.shortcode_media.shortcode;
              var urluser = "https://instagram.com/"+username;
              var prt = "?__a=1";
              var URLFULL = urluser+prt;
              if(cmmtnumber == 0){
                $("#errorcmt").append(`
                  <div class="alert alert-danger">
                  <p> Hiện chưa có bình luận nào</p>
                  </div>
                  `)
              }else if(cmmtnumber !=0){
                $("#yeupmc").append(`
                <div class="alert alert-dark"">
                <p>Để bình luận & xem bình luận đầy đủ , vui lòng sử dụng ứng dụng <a href='https://www.instagram.com/p/${shortcode}/'>Instagram</a></p>
                </div>

                `);

              }

              $("#userpmc").append(`
                <span>Thêm các bài viết từ : <strong>${username}</strong> </span>
              `)
              $("#urlpmc").append(`
                  <button  onclick="javascript:location.href='${urluser}'" class='btn btn-danger btn-sm'>Xem tất cả các bài viết</button>

                `)
                $.getJSON(URLFULL, function(data){
                    // console.log(data.graphql.user.edge_felix_video_timeline.edges);

                    // console.log(data.graphql.user.edge_owner_to_timeline_media.edges);
                    $.each(data.graphql.user.edge_owner_to_timeline_media.edges, function(i,item){
                      // console.log(item.node.display_url);
                      var img = item.node.display_url;
                      var shortcode = item.node.shortcode;
                      var title = item.node.accessibility_caption;
                      var likenum = item.node.edge_liked_by.count;
                      var cmmtnum = item.node.edge_media_to_comment.count
                      // console.log(item.node);
                      $(".row").append(`
                        <div class="col-sm-3">
                          <a href='detail.html?postlovepmc=${shortcode}'><img src='${img}' id='imglist' class='img-thumbnail' /></a>
                          <div class='details'><span class="badge badge-success"><i class="fa fa-heart" aria-hidden="true"></i> ${likenum}</span>  <span class="badge badge-success" style='magrin-left:5px'><i class="fa fa-comments" aria-hidden="true"></i> ${cmmtnum} </span></div>
                        </div>

                        `)


                    });


                });

              console.log(vid);

              if (typeof(videos) == "undefined"){
                $('#nm').append(`
                  <div class="carousel-item active" id='imgch'>
                  <img src="${img}" id='imgs' class='img-thumbnail' style="width:100%;">
                  </div>


                `);
                $(".downloadmedia").append(`
                  <div class='dl'>
                    <img src="${img}" class='img-responsive' style="width:100%">
                  </div>
                  <div class='btndl' style='margin-top:5%;margin-bottom:5%;float:right'>
                    <a href='${img}' download="ImageNameHere" target='_blank'><button class='btn btn-danger'>Tải xuống</button></a>
                  </div>

                `);

              }else if(typeof(videos) != "undefined"){
                $("#nm").css("display","block");
                $(".downloadmedia").append(`
                  <div class='dl'>
                    <video id='mvideo' class='img-responsive' width="100%" height="auto" controls>
                      <source src="${videos}" type="video/mp4">
                        Your browser does not support the video tag.
                      </video>
                  </div>
                  <div class='btndl' style='margin-top:5%;margin-bottom:5%;float:right'>
                    <a href='${videos}' download="ImageNameHere" target='_blank'><button class='btn btn-danger'>Tải xuống</button></a>
                  </div>

                `);
                $('#nm').append(`
                  <div class="list-group-item">
                  <video id='mvideo' class='img-responsive' width="100%" height="auto" controls>
                    <source src="${videos}" type="video/mp4">
                      Your browser does not support the video tag.
                    </video>
                    <div class="details">
                    </div>
                  </div>


                `);
              }

              if(verify==true){
                var vefi = "<i class='material-icons' id='pmc' data-toggle='tooltip' data-placement='right' title='Đã xác minh'  style='font-size:15px;color:blue'>check_circle</i>"
              }else{
                console.log("no");
                var vefi = " "

              }
              $(".info").append(`
              <p><span><img src='${pic}' class='rounded-circle' style='width:40px; height:40px;'/></span> <span style='cursor:pointer;' onclick="javascript:location.href='https://phuongmychi.github.io/instagram'">${username}</span> <span>${vefi}</span></p>

              `)
              $('.caption').append(`
             <p>${title}</p>
             <div class="cmmt">
               <a href="#" id='btn1'  data-toggle='modal' data-target='#myModal'  >Xem bình luận</a>
             </div>
               <span class="badge badge-success">${likenumber} lượt thích</span>   <span   id='btn1'  data-toggle='modal' data-target='#myModal' style='cursor: pointer;'  data-toggle="tooltip" title="Click để xem bình luận"  class="badge badge-success">${cmmtnumber} bình luận</span>
                <span style='cursor: pointer;' onclick="window.open('https://www.instagram.com/p/${shortcode}')" class="badge badge-danger"> Xem bài viết đầy đủ</span> <span   id='btn2' class="badge badge-dark"  data-toggle='modal' data-target='#myModal2' style='cursor: pointer;'>Tải xuống media</span>

              `)

                resultsLoop(data);
            });
        }


        function resultsLoop(data) {

            $.each(data.graphql.shortcode_media.edge_media_to_parent_comment.edges, function (i, item) {

                console.log(item.node);
                var txt =item.node.text;
                var picu = item.node.owner.profile_pic_url;
                var usn = item.node.owner.username;
                var usrverify = item.node.owner.is_verified;
                if(usrverify==true){
                  var vefi = "<i class='material-icons' id='pmc' data-toggle='tooltip' data-placement='right' title='Đã xác minh'  style='font-size:15px;color:blue'>check_circle</i>"
                }else{
                  // console.log("no");
                  var vefi = " "

                }
                var i;

                $(".comment").append(`
                <div class="media">
                  <div class="media-left">
                    <img src="${picu}" class="rounded-circle" style="width:50px"/>
                  </div>
                  <div class="media-body">
                    <h6 class="media-heading">${usn} <span>${vefi}</span></h6>
                    <p>${txt}</p>
                  </div>

                </div>


                `)


            });


            $.each(data.graphql.shortcode_media.edge_sidecar_to_children.edges, function (i, item) {
              var dtm = item.node;
              var thumb = item.node.display_url;
              $(".downloadmedia").append(`
                <div class='dl'>
                  <img src="${thumb}" class='img-responsive' style="width:100%">
                </div>
                <div class='btndl' style='margin-top:5%;margin-bottom:5%;float:right'>
                  <a href='${thumb}' download="ImageNameHere" target='_blank'><button class='btn btn-danger'>Tải xuống</button></a>
                </div>

              `);
              $("#udemo").append(`
                <li data-target="#demo"></li>

                `)
              $('#nm').append(`
                <div class="carousel-item">
                <img src="${thumb}" class='img-responsive' style="width:100%">
                </div>
                <div>
                <a class="carousel-control-prev" href="#demo" data-slide="prev">
                <span class="carousel-control-prev-icon"></span>
                </a>
                <a class="carousel-control-next" href="#demo" data-slide="next">
                <span class="carousel-control-next-icon"></span>
                </a>

                </div>
              `)

            });
        }

    		// CLICK EVENT
        $('.row').on('click', '.col-sm-3', function () {
            var id = $(this).attr('data-key');
            mainVid(id);
        });

    });
    </script>

    <script>
      $(document).ready(function(){
        $("#btns").click(function(){
          var url = $("#urlins").val();
          url = url.replace('/tv/', '/p/');
          if(url==''){

    	  $("#errors").html("Bạn cần phải nhập vào URL Instagram");
               setTimeout(function(){
    		   document.getElementById("errors").innerHTML = " ";
    		  }, 1500);

            return false;
          }else if (url != undefined || url != '') {
            var pattern = new RegExp('https://www.instagram.com/p/(.+?)', 'g');
            // var regExp = /^\s*(http\:\/\/)?instagram\.com\/[a-z\d-_]{1,255}\s*$/i;
            var match = url.match(pattern);
           if (match && match[2].length == 11) {
             // $("#select").show();
             // $(".btnsb").html("<button class='btn btn-success'>Tải về</button>");
           } else {
               $("#errors").html("Vui lòng nhập URL  bài viết/ video Instagram hợp lệ");
               setTimeout(function(){
    		   document.getElementById("errors").innerHTML = " ";
    		  }, 1500);

               return false;
           }



          }
          return true;
        });


      });
    </script>
</head>
<body>
    <header class="container1">
    </header>

    <div class="container">
      <div class="intro">
        <h1>Tải hình ảnh, video Instagram Online</h1>

      </div>
      <div class="holder">
        <p id="errors"></p>

        <form class="formphuongmychi" action="download.html" method="get">
          <input type="text" class="form form-control" id='urlins' name="urlins" placeholder="https://www.instagram.com/p/B9-3yFPj_kT/">
          <button type="submit" class="btn btn-success" id='btns'>Download</button>
        </form>
      </div>
      <div class="info">

      </div>
      <div id="demo" class="carousel slide" data-ride="carousel">
      <ul  id='udemo' class="carousel-indicators">

      </ul>
        <div id="myCarousel" class="carousel slide" data-ride="carousel">
          <div id='nm' class="carousel-inner" >

            </div>

          </div>
      </div>


        <div class="caption">

        </div>
        <hr/>
        <p id='userpmc' class="badge badge-info"></p>
        <div class="row">

        </div>
        <div id='urlpmc' ></div>

        </div>



    <div id='copyrightpmc'>

    <p>© 2019 <a href='https://www.youtube.com/channel/UCiox3pl9bimZrznTg4uPR3w'>Phuong My Chi Entertainment</a></p>
	   <p><span><a href="/privacy.html">Chính sách bảo mật</a></span> ||<span> <a href="/instagram/term-use-instagram.html">Điều khoản sử dụng</a></span></p>
	<!-- <span><a href='https://phuongmychi.github.io/download-image-instagram.html'>Download Image Instagram Online</a>| <a href='https://phuongmychi.github.io/download-youtube-thumbnail.html'>Download Youtube thumbnail</a></span> -->

  </div>

  <!--  -->

  <!-- The Modal -->
  <div class="modal" id="myModal2">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h1 class="modal-title">Download Media</h1>
          <button type="button" class="close" data-dismiss="modal">×</button>
        </div>

        <!-- Modal body -->
        <div class="modal-body">
            <div class="downloadmedia">

            </div>
        </div>

        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>

<!-- Button to Open the Modal -->
<!-- <button type="button">
  Open modal
</button> -->

<!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Bình luận</h4>
        <button type="button" style="margin-left:100px;" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="comment">
          <p id='errorcmt'></p>
        </div>
        <p id='yeupmc' style="width:100%" ></p>

      </div>

      <!-- Modal footer -->
      <div class="modal-footer">

        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>
<script>
$(document).ready(function(){
  $('.badge-secondary').tooltip({title: "Hooray", placement: "top"});
  $('.btn-success').tooltip({title: "Hooray", placement: "bottom"});
  $('.btn-danger').tooltip({title: "Hooray", placement: "left"});
  $('.btn-primary').tooltip({title: "Hooray", placement: "right"});
});
</script>


<script>
$(document).ready(function(){

  $('#pmc').tooltip({title: "Hooray", placement: "right"});
});
</script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://phuongmychi.github.io/instagram/instastory.js"></script>
    <script src="https://phuongmychi.github.io/instagram/demo.js"></script>

</body>
</html>
